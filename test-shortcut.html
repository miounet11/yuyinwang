<!DOCTYPE html>
<html>
<head>
    <title>å¿«æ·é”®æµ‹è¯•</title>
</head>
<body>
    <h1>å¿«æ·é”®æµ‹è¯•å·¥å…·</h1>
    <button onclick="testShortcut()">æµ‹è¯•å¿«æ·é”®</button>
    <button onclick="registerShortcut()">é‡æ–°æ³¨å†Œå¿«æ·é”®</button>
    <div id="output"></div>

    <script>
        async function testShortcut() {
            try {
                const result = await window.__TAURI__.invoke('test_shortcut', {
                    shortcut: 'CommandOrControl+Shift+R',
                    action: 'toggle_recording'
                });
                document.getElementById('output').innerHTML += '<p>æµ‹è¯•ç»“æœ: ' + JSON.stringify(result) + '</p>';
            } catch (error) {
                document.getElementById('output').innerHTML += '<p>é”™è¯¯: ' + error + '</p>';
            }
        }

        async function registerShortcut() {
            try {
                const result = await window.__TAURI__.invoke('register_global_shortcut', {
                    shortcut: 'CommandOrControl+Shift+R',
                    action: 'toggle_recording'
                });
                document.getElementById('output').innerHTML += '<p>æ³¨å†Œç»“æœ: ' + JSON.stringify(result) + '</p>';
            } catch (error) {
                document.getElementById('output').innerHTML += '<p>æ³¨å†Œé”™è¯¯: ' + error + '</p>';
            }
        }

        // ç›‘å¬å¿«æ·é”®äº‹ä»¶
        window.__TAURI__.event.listen('shortcut_pressed', (event) => {
            console.log('ğŸ”¥ æ”¶åˆ°å¿«æ·é”®äº‹ä»¶:', event);
            document.getElementById('output').innerHTML += '<p>å¿«æ·é”®äº‹ä»¶: ' + JSON.stringify(event) + '</p>';
        });
    </script>
</body>
</html>