# 项目开发管理指南

## 🎯 核心原则
1. **永不重复开发** - 每个功能只实现一次
2. **完整记录** - 所有已完成功能必须记录
3. **时间追踪** - 每个任务都有时间戳
4. **上下文保持** - 保存关键决策和实现细节

---

## 📋 当前 TODO LIST
<!-- 格式：- [ ] [优先级:P0-P3] 功能名称 | 创建时间 | 预计工时 | 依赖项 -->

### P0 - 紧急重要
- [ ] [P0] 功能示例 | 2025-01-12 10:00 | 2h | 无依赖

### P1 - 重要不紧急
- [ ] [P1] 功能示例 | 2025-01-12 10:00 | 4h | 依赖: 用户认证模块

### P2 - 一般任务
- [ ] [P2] 功能示例 | 2025-01-12 10:00 | 1h | 无依赖

### P3 - 待定/优化
- [ ] [P3] 性能优化 | 2025-01-12 10:00 | 3h | 待定

---

## ✅ 已完成功能清单
<!-- 
格式：
### 功能名称
- **完成时间**: YYYY-MM-DD HH:MM
- **涉及文件**: 
  - `path/to/file1.js` - 主要逻辑
  - `path/to/file2.css` - 样式
- **关键函数/组件**: 
  - `functionName()` - 功能描述
  - `ComponentName` - 组件用途
- **实现细节**: 简要描述实现方式
- **测试状态**: ✅ 已测试 / ⚠️ 待测试
- **相关 Commit**: commit_hash 或 PR链接
- **注意事项**: 特殊注意点或已知限制
-->

### 示例：用户认证系统
- **完成时间**: 2025-01-11 15:30
- **涉及文件**: 
  - `src/auth/login.js` - 登录逻辑
  - `src/auth/register.js` - 注册逻辑
  - `src/middleware/auth.js` - 认证中间件
- **关键函数/组件**: 
  - `authenticateUser()` - JWT 认证
  - `LoginForm` - 登录表单组件
- **实现细节**: 使用 JWT + refresh token，token 有效期 24h
- **测试状态**: ✅ 已测试
- **相关 Commit**: abc123def
- **注意事项**: 
  - Token 存储在 httpOnly cookie 中
  - 需要 HTTPS 环境
  - 依赖 bcrypt 库进行密码加密

---

## 🔄 进行中的功能
<!-- 记录正在开发但未完成的功能，避免重复开始 -->

### 功能名称
- **开始时间**: YYYY-MM-DD HH:MM
- **当前进度**: 60%
- **已完成部分**: 
  - ✅ 数据库设计
  - ✅ API 接口
  - ⬜ 前端界面
- **下一步**: 完成前端表单验证
- **阻塞问题**: 无

---

## 🏗️ 项目架构说明
<!-- 记录重要的架构决策，避免破坏现有结构 -->

### 目录结构
```
project/
├── src/
│   ├── components/    # React组件
│   ├── services/      # API服务
│   ├── utils/         # 工具函数
│   └── styles/        # 样式文件
├── public/            # 静态资源
└── tests/             # 测试文件
```

### 技术栈
- 前端: React + TypeScript
- 后端: Node.js + Express
- 数据库: PostgreSQL
- 状态管理: Redux Toolkit

### 核心设计模式
1. **API 调用**: 统一使用 services 层封装
2. **错误处理**: 全局错误边界 + try-catch
3. **状态管理**: Redux store 分模块管理

---

## 🚫 禁止重复开发列表
<!-- 明确列出已经完成的功能，绝对不要重新实现 -->

1. **用户认证系统** - ✅ 完成，勿重复
2. **文件上传功能** - ✅ 完成，勿重复
3. **邮件发送服务** - ✅ 完成，勿重复

---

## 📝 开发规范

### 开发新功能前必须：
1. 检查"已完成功能清单"，确认未重复
2. 检查"进行中的功能"，避免冲突
3. 在 TODO LIST 中添加任务
4. 评估对现有功能的影响

### 完成功能后必须：
1. 立即更新"已完成功能清单"
2. 记录所有相关文件和函数
3. 添加测试状态
4. 从 TODO LIST 中标记完成
5. 记录任何特殊注意事项

### 代码提交规范：
- feat: 新功能
- fix: 修复bug
- docs: 文档更新
- style: 代码格式
- refactor: 重构
- test: 测试
- chore: 构建/工具

---

## 🔍 快速检查清单

在开始任何开发前，请回答：
- [ ] 这个功能是否已在"已完成功能清单"中？
- [ ] 这个功能是否已在"进行中的功能"中？
- [ ] 是否会影响其他已完成的功能？
- [ ] 是否已在 TODO LIST 中记录？
- [ ] 是否明确了依赖关系？

---

## 💡 Claude Code 使用指引

### 每次会话开始时：
1. 让 Claude 先阅读此文档
2. 明确告诉 Claude 当前要开发的具体功能
3. 让 Claude 确认该功能未被开发过

### 示例对话：
```
"请先阅读 PROJECT_MANAGEMENT.md 文件，
确认'用户登录功能'是否已完成。
如果未完成，请开始开发；
如果已完成，请告诉我具体在哪些文件中。"
```

### 功能开发完成后：
```
"功能已完成，请更新 PROJECT_MANAGEMENT.md：
1. 将此功能添加到'已完成功能清单'
2. 记录涉及的所有文件和关键函数
3. 从 TODO LIST 中移除"
```

---

## 📅 更新历史
<!-- 记录文档的重要更新 -->

- 2025-01-12: 初始化项目管理文档
- 待更新...

---

## ⚠️ 重要提醒

**给 Claude Code 的指令模板：**

```
你是一个严格遵循开发管理规范的助手。
在开始任何开发前，你必须：

1. 首先阅读 PROJECT_MANAGEMENT.md
2. 检查要开发的功能是否已存在
3. 如果已存在，告诉我位置并询问是否需要修改
4. 如果不存在，开始开发并在完成后更新文档
5. 绝不重复开发已完成的功能

请确认你已理解这些规则。
```