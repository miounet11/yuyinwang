# Spokenly Clone - 完整技术文档

## 📁 文档结构

```
docs/
├── README.md
├── installation/
│   ├── README.md
│   ├── docker-setup.md
│   └── manual-setup.md
├── user-guide/
│   ├── README.md
│   ├── getting-started.md
│   └── features.md
├── api/
│   ├── README.md
│   ├── authentication.md
│   ├── endpoints.md
│   └── examples.md
├── developer-guide/
│   ├── README.md
│   ├── architecture.md
│   ├── contributing.md
│   └── deployment.md
├── troubleshooting/
│   ├── README.md
│   ├── common-issues.md
│   └── faq.md
└── assets/
    └── images/
```

---

## 📄 1. README.md

```markdown
# Spokenly Clone

[English](#english) | [中文](#chinese)

---

## English

### 🎯 Overview

Spokenly Clone is an open-source video conferencing platform that provides high-quality audio and video communication capabilities. Built with modern web technologies, it offers a seamless experience for remote meetings, webinars, and collaborative sessions.

### ✨ Features

- **HD Video Conferencing**: Crystal clear video quality with adaptive bitrate
- **Real-time Audio**: Low-latency audio with noise cancellation
- **Screen Sharing**: Share your screen or specific applications
- **Chat Integration**: Text messaging during calls
- **Recording**: Record meetings for later review
- **Multi-platform**: Works on desktop, mobile, and tablets
- **Secure**: End-to-end encryption for all communications

### 🚀 Quick Start

```bash
# Clone the repository
git clone https://github.com/your-org/spokenly-clone.git

# Navigate to project directory
cd spokenly-clone

# Install dependencies
npm install

# Start development server
npm run dev
```

Visit `http://localhost:3000` to access the application.

### 📚 Documentation

- [Installation Guide](./installation/README.md)
- [User Manual](./user-guide/README.md)
- [API Documentation](./api/README.md)
- [Developer Guide](./developer-guide/README.md)
- [Troubleshooting](./troubleshooting/README.md)

### 🛠 Technology Stack

- **Frontend**: React 18, TypeScript, Tailwind CSS
- **Backend**: Node.js, Express, Socket.io
- **Database**: PostgreSQL, Redis
- **WebRTC**: Simple-peer, MediaSoup
- **Authentication**: JWT, OAuth 2.0
- **Deployment**: Docker, Kubernetes

### 📄 License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

---

## Chinese

### 🎯 项目概述

Spokenly Clone 是一个开源视频会议平台，提供高质量的音视频通信功能。采用现代化Web技术构建，为远程会议、网络研讨会和协作会话提供无缝体验。

### ✨ 主要功能

- **高清视频会议**: 自适应码率的清晰视频质量
- **实时音频**: 低延迟音频传输，支持降噪
- **屏幕共享**: 共享屏幕或特定应用程序
- **聊天集成**: 通话期间的文字消息
- **会议录制**: 录制会议供后续回看
- **多平台支持**: 支持桌面、移动设备和平板电脑
- **安全保障**: 所有通信均采用端到端加密

### 🚀 快速开始

```bash
# 克隆仓库
git clone https://github.com/your-org/spokenly-clone.git

# 进入项目目录
cd spokenly-clone

# 安装依赖
npm install

# 启动开发服务器
npm run dev
```

访问 `http://localhost:3000` 使用应用程序。

### 📚 文档导航

- [安装指南](./installation/README.md)
- [用户手册](./user-guide/README.md)
- [API文档](./api/README.md)
- [开发者指南](./developer-guide/README.md)
- [故障排除](./troubleshooting/README.md)

### 🛠 技术栈

- **前端**: React 18, TypeScript, Tailwind CSS
- **后端**: Node.js, Express, Socket.io
- **数据库**: PostgreSQL, Redis
- **WebRTC**: Simple-peer, MediaSoup
- **身份验证**: JWT, OAuth 2.0
- **部署**: Docker, Kubernetes
```

---

## 📄 2. 安装指南 (installation/README.md)

```markdown
# Installation Guide / 安装指南

[English](#english) | [中文](#chinese)

---

## English

### System Requirements

- **Node.js**: v16.0.0 or higher
- **npm**: v7.0.0 or higher
- **PostgreSQL**: v12.0 or higher
- **Redis**: v6.0 or higher
- **Operating System**: Windows 10+, macOS 10.15+, Ubuntu 18.04+

### Installation Methods

#### Method 1: Docker Setup (Recommended)

```bash
# Clone the repository
git clone https://github.com/your-org/spokenly-clone.git
cd spokenly-clone

# Build and start with Docker Compose
docker-compose up -d

# Check if services are running
docker-compose ps
```

**Service URLs:**
- Application: http://localhost:3000
- API: http://localhost:8000
- Database Admin: http://localhost:8080

#### Method 2: Manual Setup

##### Step 1: Install Dependencies

```bash
# Install Node.js dependencies
npm install

# Install global tools
npm install -g pm2 nodemon
```

##### Step 2: Database Setup

```bash
# Install PostgreSQL (Ubuntu/Debian)
sudo apt update
sudo apt install postgresql postgresql-contrib

# Create database
sudo -u postgres createdb spokenly_db

# Install Redis
sudo apt install redis-server
```

##### Step 3: Environment Configuration

```bash
# Copy environment template
cp .env.example .env

# Edit configuration
nano .env
```

**Environment Variables:**

```env
# Application
NODE_ENV=development
PORT=3000
API_PORT=8000

# Database
DB_HOST=localhost
DB_PORT=5432
DB_NAME=spokenly_db
DB_USER=your_username
DB_PASS=your_password

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379

# JWT
JWT_SECRET=your_jwt_secret_key
JWT_EXPIRE=24h

# WebRTC
TURN_SERVER_URL=stun:stun.l.google.com:19302
TURN_USERNAME=
TURN_CREDENTIAL=

# OAuth (Optional)
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
```

##### Step 4: Database Migration

```bash
# Run migrations
npm run migrate

# Seed initial data (optional)
npm run seed
```

##### Step 5: Start Services

```bash
# Development mode
npm run dev

# Production mode
npm run build
npm run start

# Using PM2 (recommended for production)
pm2 start ecosystem.config.js
```

### Verification

#### Health Check

```bash
# Check API health
curl http://localhost:8000/health

# Expected response:
# {"status":"ok","timestamp":"2024-01-01T00:00:00.000Z"}
```

#### Test Video Call

1. Open browser: http://localhost:3000
2. Create a new meeting
3. Join with another browser tab
4. Test audio/video functionality

---

## Chinese

### 系统要求

- **Node.js**: v16.0.0 或更高版本
- **npm**: v7.0.0 或更高版本
- **PostgreSQL**: v12.0 或更高版本
- **Redis**: v6.0 或更高版本
- **操作系统**: Windows 10+, macOS 10.15+, Ubuntu 18.04+

### 安装方式

#### 方式一：Docker 安装（推荐）

```bash
# 克隆仓库
git clone https://github.com/your-org/spokenly-clone.git
cd spokenly-clone

# 使用 Docker Compose 构建并启动
docker-compose up -d

# 检查服务状态
docker-compose ps
```

**服务地址：**
- 应用程序: http://localhost:3000
- API: http://localhost:8000
- 数据库管理: http://localhost:8080

#### 方式二：手动安装

##### 步骤1：安装依赖

```bash
# 安装 Node.js 依赖
npm install

# 安装全局工具
npm install -g pm2 nodemon
```

##### 步骤2：数据库配置

```bash
# 安装 PostgreSQL (Ubuntu/Debian)
sudo apt update
sudo apt install postgresql postgresql-contrib

# 创建数据库
sudo -u postgres createdb spokenly_db

# 安装 Redis
sudo apt install redis-server
```

##### 步骤3：环境配置

```bash
# 复制环境变量模板
cp .env.example .env

# 编辑配置文件
nano .env
```

##### 步骤4：数据库迁移

```bash
# 运行迁移
npm run migrate

# 填充初始数据（可选）
npm run seed
```

##### 步骤5：启动服务

```bash
# 开发模式
npm run dev

# 生产模式
npm run build
npm run start

# 使用 PM2（生产环境推荐）
pm2 start ecosystem.config.js
```
```

---

## 📄 3. 用户手册 (user-guide/README.md)

```markdown
# User Manual / 用户手册

[English](#english) | [中文](#chinese)

---

## English

### Getting Started

#### Creating an Account

1. Visit the Spokenly Clone homepage
2. Click "Sign Up" in the top right corner
3. Fill in your details:
   - Full Name
   - Email Address
   - Password (minimum 8 characters)
4. Verify your email address
5. Complete your profile setup

![Sign Up Process](../assets/images/signup-process.png)

#### Starting Your First Meeting

##### Quick Start (No Account Required)

```
1. Click "Start Instant Meeting"
2. Allow camera and microphone permissions
3. Share the meeting link with participants
4. Start your conversation!
```

##### Scheduled Meeting

```
1. Log into your account
2. Click "Schedule Meeting"
3. Set meeting details:
   - Title
   - Date and Time
   - Duration
   - Participants (optional)
4. Send invitations
5. Join at the scheduled time
```

### Core Features

#### Video Controls

| Button | Function | Shortcut |
|--------|----------|----------|
| 📹 | Toggle Camera | Ctrl+E |
| 🎤 | Toggle Microphone | Ctrl+D |
| 🖥️ | Share Screen | Ctrl+Shift+S |
| 📱 | Switch Camera | Ctrl+Shift+C |

#### Audio Settings

- **Microphone Selection**: Choose from available input devices
- **Speaker Selection**: Select output device
- **Noise Cancellation**: AI-powered background noise removal
- **Echo Cancellation**: Automatic echo suppression

#### Screen Sharing Options

1. **Entire Screen**: Share your complete desktop
2. **Application Window**: Share specific application
3. **Browser Tab**: Share a specific browser tab
4. **Whiteboard**: Use built-in collaborative whiteboard

#### Chat Features

- **Public Chat**: Messages visible to all participants
- **Private Messages**: Direct messages to specific users
- **File Sharing**: Share documents, images, and files
- **Emoji Reactions**: Quick reactions during conversations

#### Recording

```bash
# Start Recording
1. Click the "Record" button
2. Choose recording quality (720p/1080p)
3. Select what to record:
   - Video + Audio
   - Audio Only
   - Screen Share Only

# Access Recordings
1. Go to "My Recordings"
2. Download or share recordings
3. Manage storage and permissions
```

### Advanced Features

#### Meeting Management

##### Host Controls

- **Mute All Participants**: Quickly mute everyone
- **Disable Video**: Turn off video for all participants
- **Lock Meeting**: Prevent new participants from joining
- **Remove Participants**: Remove disruptive users
- **Transfer Host**: Give host privileges to another user

##### Waiting Room

```
Enable waiting room to:
- Screen participants before entry
- Control meeting access
- Maintain meeting security
```

#### Breakout Rooms

1. Click "Breakout Rooms" during meeting
2. Choose number of rooms (2-20)
3. Assign participants manually or automatically
4. Set timer for breakout sessions
5. Broadcast messages to all rooms
6. Return everyone to main room

#### Virtual Backgrounds

```
Supported formats:
- Static images (JPG, PNG)
- Animated GIFs
- Video backgrounds (MP4)
- Blur effects

Requirements:
- Minimum CPU: Intel i5 or equivalent
- RAM: 4GB available
- Good lighting conditions
```

### Mobile App Usage

#### iOS/Android Features

- **Portrait/Landscape Mode**: Automatic orientation
- **Picture-in-Picture**: Continue meeting while using other apps
- **Background Mode**: Audio continues when app is minimized
- **Push Notifications**: Meeting reminders and invitations

#### Mobile-Specific Controls

| Gesture | Action |
|---------|--------|
| Tap | Show/hide controls |
| Double Tap | Toggle full screen |
| Pinch | Zoom video |
| Swipe Up | Access chat |
| Swipe Down | View participants |

---

## Chinese

### 快速入门

#### 创建账户

1. 访问 Spokenly Clone 主页
2. 点击右上角"注册"按钮
3. 填写详细信息：
   - 姓名
   - 邮箱地址
   - 密码（至少8个字符）
4. 验证邮箱地址
5. 完成个人资料设置

#### 开始首次会议

##### 快速开始（无需注册）

```
1. 点击"立即开始会议"
2. 允许摄像头和麦克风权限
3. 分享会议链接给参与者
4. 开始对话！
```

##### 预约会议

```
1. 登录您的账户
2. 点击"预约会议"
3. 设置会议详情：
   - 标题
   - 日期和时间
   - 持续时间
   - 参与者（可选）
4. 发送邀请
5. 在预约时间加入会议
```

### 核心功能

#### 视频控制

| 按钮 | 功能 | 快捷键 |
|------|------|--------|
| 📹 | 切换摄像头 | Ctrl+E |
| 🎤 | 切换麦克风 | Ctrl+D |
| 🖥️ | 共享屏幕 | Ctrl+Shift+S |
| 📱 | 切